<div class="panel panel-info">
    <div class="panel-heading">
        <button type="button" class="btn btn-sm btn-success" data-toggle="modal" data-target="#transactionFormModal"
                data-ng-click="editTransaction('new')">
            <i class="fa fa-plus"></i> Add transaction
        </button>
    </div>
    <div class="panel-body">
        <div class="row">
            <div class="col-md-12">
                <form class="form-inline">
                    <div class="form-group form-group-sm">
                        <label for="fromDateInput">Transactions from </label>
                        <input type="date" class="form-control" id="fromDateInput" data-ng-model="searchForm.fromDate">
                    </div>
                    <div class="form-group form-group-sm">
                        <label for="toDateInput"> to </label>
                        <input type="date" class="form-control" id="toDateInput" data-ng-model="searchForm.toDate">
                    </div>
                    <div class="form-group form-group-sm">
                        <label for="sortByInput"> sort by </label>
                        <div id="sortByInput" class="btn-group" data-toggle="buttons">
                            <label class="btn btn-default active">
                                <input type="radio" id="option1" autocomplete="off" checked value="date"
                                       data-ng-model="searchForm.sortBy"> Date
                            </label>
                            <label class="btn btn-default">
                                <input type="radio" id="option2" autocomplete="off" value="category"
                                       data-ng-model="searchForm.sortBy"> Category
                            </label>
                            <label class="btn btn-default">
                                <input type="radio" id="option3" autocomplete="off" value="account"
                                       data-ng-model="searchForm.sortBy"> Account
                            </label>
                            <label class="btn btn-default">
                                <input type="radio" id="option3" autocomplete="off" value="amount"
                                       data-ng-model="searchForm.sortBy"> Amount
                            </label>
                        </div>
                    </div>
                    <div class="form-group form-group-sm">
                        <label for="commentInput" class="control-label sr-only">Comment</label>
                        <input type="text" id="commentInput" class="form-control" data-ng-model="searchForm.comment"
                               placeholder="Comment">
                    </div>
                    <button type="submit" class="btn btn-info">Search</button>
                </form>
            </div>
        </div>
        <br/>
        <div class="row">
            <div class="col-md-12">
                <table class="table table-hover">
                    <tbody>
                    <tr data-ng-repeat="transaction in transactions">
                        <td>{{ transaction.date | date }}</td>
                        <td>{{ transaction.account.name }}</td>
                        <td>
                            <i class="fa" data-ng-class="{
                                'fa-arrow-left text-success': transaction.operation === 'INCOME',
                                'fa-arrow-right text-info': transaction.operation === 'TRANSFER',
                                'fa-arrow-right text-danger': transaction.operation === 'EXPENSE'
                            }"></i>
                        </td>
                        <td data-ng-hide="transaction.operation === 'TRANSFER'">{{ transaction.category.name }}</td>
                        <td data-ng-show="transaction.operation === 'TRANSFER'">{{ transaction.transferAccount.name }}
                        </td>
                        <td>{{ transaction.comment }}</td>
                        <td>{{ transaction.amount | currency: transaction.currency }}</td>
                        <td>
                            <a href data-ng-click="editTransaction(transaction.id)"
                               data-toggle="modal" data-target="#transactionFormModal">
                                <i class="fa fa-pencil"></i>
                            </a>
                        </td>
                        <td>
                            <a href data-ng-click="setModalData(transaction.id)"
                               data-toggle="modal" data-target="#removeTransactionModal">
                                <i class="fa fa-times text-danger"></i>
                            </a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- Transaction Form Modal -->
<div class="modal fade" id="transactionFormModal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
        <div data-transaction-form data-is-modal="true" data-accounts="accounts" data-categories="categories"></div>
    </div>
</div>

<!-- Remove Transaction Modal -->
<div class="modal fade" id="removeTransactionModal" tabindex="-1" role="dialog"
     aria-labelledby="removeTransactionModalLabel">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="removeTransactionModalLabel">Are you sure you want to delete this
                    transaction?</h4>
            </div>
            <div class="modal-body">
                This operation cannot be undone.
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger" data-ng-click="deleteTransaction(modalData.id)">Delete
                </button>
            </div>
        </div>
    </div>
</div>